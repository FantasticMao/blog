<!DOCTYPE html>
<html lang="zh-cn">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="zh-cn">
    <meta name="color-scheme" content="light dark">

    

    <meta name="author" content="FantasticMao">
    <meta name="description" content="摘自《JavaScript 权威指南》第 19 章 jQuery 类库。
JavaScript 的核心 API 设计的很简单，但由于不同浏览器之间的严重不兼容，导致客户端的 API 过于复杂。使用 JavaScript 框架或工具类库能简化通用操作，能隐藏浏览器之间的差异，这让很多程序员在开发 Web 应用时变得更简单。撰写本书时，最流行和广泛采用的类库之一就是 jQuery。">
    <meta name="keywords" content="JavaScript,jQuery">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="《JavaScript 权威指南》笔记 - jQuery 类库"/>
<meta name="twitter:description" content="摘自《JavaScript 权威指南》第 19 章 jQuery 类库。
JavaScript 的核心 API 设计的很简单，但由于不同浏览器之间的严重不兼容，导致客户端的 API 过于复杂。使用 JavaScript 框架或工具类库能简化通用操作，能隐藏浏览器之间的差异，这让很多程序员在开发 Web 应用时变得更简单。撰写本书时，最流行和广泛采用的类库之一就是 jQuery。"/>

    <meta property="og:title" content="《JavaScript 权威指南》笔记 - jQuery 类库" />
<meta property="og:description" content="摘自《JavaScript 权威指南》第 19 章 jQuery 类库。
JavaScript 的核心 API 设计的很简单，但由于不同浏览器之间的严重不兼容，导致客户端的 API 过于复杂。使用 JavaScript 框架或工具类库能简化通用操作，能隐藏浏览器之间的差异，这让很多程序员在开发 Web 应用时变得更简单。撰写本书时，最流行和广泛采用的类库之一就是 jQuery。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.fantasticmao.cn/2017/04/21/javascript-%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E7%AC%94%E8%AE%B0-jquery-%E7%B1%BB%E5%BA%93/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-04-21T15:44:01+08:00" />
<meta property="article:modified_time" content="2017-04-21T15:44:01+08:00" />



    <title>
  《JavaScript 权威指南》笔记 - jQuery 类库 · FantasticMao&#39;s Blog
</title>

    
      <link rel="canonical" href="https://blog.fantasticmao.cn/2017/04/21/javascript-%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E7%AC%94%E8%AE%B0-jquery-%E7%B1%BB%E5%BA%93/">
    

    <link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>

    
      
      
      <link rel="stylesheet" href="/css/coder.min.d9fddbffe6f27e69985dc5fe0471cdb0e57fbf4775714bc3d847accb08f4a1f6.css" integrity="sha256-2f3b/&#43;byfmmYXcX&#43;BHHNsOV/v0d1cUvD2Eesywj0ofY=" crossorigin="anonymous" media="screen" />
    

    

    

    
      
        
        <link rel="stylesheet" href="/css/custom.min.2685291725b6d042c0198f421a0525b7848d32a12d1b9820643b45b323a07f66.css" integrity="sha256-JoUpFyW20ELAGY9CGgUlt4SNMqEtG5ggZDtFsyOgf2Y=" crossorigin="anonymous" media="screen" />
      
    
      
        
        <link rel="stylesheet" href="/css/iconfont.min.32b99889c89209520626825143ed9241cc4ffbe7b6f911b5a26e6a34c89721da.css" integrity="sha256-MrmYiciSCVIGJoJRQ&#43;2SQcxP&#43;&#43;e2&#43;RG1om5qNMiXIdo=" crossorigin="anonymous" media="screen" />
      
    

    

    <link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">

    <link rel="apple-touch-icon" href="/favicons/apple-icon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-icon.png">

    <meta name="generator" content="Hugo 0.89.4" />
  </head>

  
  
  <body class="preload-transitions colorscheme-light">
    

    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      FantasticMao&#39;s Blog
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/">首页</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/posts/">归档</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/categories/">分类</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/tags/">标签</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/about/">关于</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://blog.fantasticmao.cn/2017/04/21/javascript-%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E7%AC%94%E8%AE%B0-jquery-%E7%B1%BB%E5%BA%93/">
              《JavaScript 权威指南》笔记 - jQuery 类库
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime='2017-04-21T15:44:01&#43;08:00'>
                April 21, 2017
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              阅读时间：11 分钟
            </span>
          </div>
          
          <div class="categories">
  <i class="fa fa-folder" aria-hidden="true"></i>
    <a href="/categories/%E7%BC%96%E7%A8%8B/">编程</a></div>

          <div class="tags">
  <i class="fa fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/javascript/">JavaScript</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/jquery/">jQuery</a>
    </span></div>

        </div>
      </header>

      <div>
        
        <p>摘自<a href="https://book.douban.com/subject/10549733/">《JavaScript 权威指南》</a>第 19 章 jQuery 类库。</p>
<p>JavaScript 的核心 API 设计的很简单，但由于不同浏览器之间的严重不兼容，导致客户端的 API 过于复杂。使用 JavaScript 框架或工具类库能简化通用操作，能隐藏浏览器之间的差异，这让很多程序员在开发 Web 应用时变得更简单。撰写本书时，最流行和广泛采用的类库之一就是 jQuery。</p>
<hr>
<h2 id="jquery-基础">
  jQuery 基础
  <a class="heading-link" href="#jquery-%e5%9f%ba%e7%a1%80">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>jQuery 类库定义了一个全局函数：<code>jQuery()</code>。该函数使用频繁，因此在类库中还给它定义了一个快捷别名：<code>$()</code>。这是 jQuery 在全局命名空间中定义的唯一两个变量。</p>
<p>在 jQuery 类库中，最重要的方法是 <code>jQuery()</code>，也就是 <code>$()</code>。它的功能很强大，有 4 中不同的调用方式：</p>
<ol>
<li>
<p>传递 CSS 选择器字符串给 <code>$()</code>。当通过这种方式调用时，<code>$()</code> 返回当前文档中匹配该选择器的元素集；</p>
</li>
<li>
<p>传递一个 Element、Document 或 Window 对象给 <code>$()</code>。在这种情况下，<code>$()</code> 只须简单地将 Element、Document、Window 对象封装成 jQuery 对象并返回；</p>
</li>
<li>
<p>传递 HTML 文本字符串给 <code>$()</code>。在这种调用方式下 jQuery 会根据传入的文本创建好 HTML 元素并封装成 jQuery 对象返回；</p>
</li>
<li>
<p>传入一个函数给 <code>$()</code>。此时，文档加载完毕且 DOM 可操作时，传入的函数将被调用。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">jQuery</span>(<span style="color:#66d9ef">function</span> () {
  <span style="color:#75715e">// 文档加载完毕时调用
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// 所有 jQuery 代码放在这里
</span><span style="color:#75715e"></span>});
</code></pre></div></li>
</ol>
<p>传递 CSS 选择器字符串给 <code>$()</code>，它返回的 jQuery 对象表示匹配该选择器的元素集。<strong>jQuery 对象是类数组，它们拥有 length 属性和介于 0 - length - 1 之间的数值属性。这意味着可以使用标准的数组标识方括号来访问 jQuery 对象的内容</strong>。如果不想把数组标识用在 jQuery 对象上，可以使用 <code>size()</code> 来替代 length 属性，用 <code>get()</code> 来替代方括号索引。可以使用 <code>toArray()</code> 将 jQuery 对象转化为真实数组。</p>
<p>除了 length 属性，jQuery 对象还有其它三个属性：selector 属性是创建 jQuery 对象时的选择器字符串。context 属性是上下文对象，是传递给 <code>$()</code> 的第二个参数，如果没有的话，默认是 Document 对象。jquery 属性值是 jQuery 版本号。</p>
<p>可以使用 <code>each()</code> 方法来代替 for 循环遍历 jQuery 对象中的所有元素。<code>each()</code> 还会将索引值和该元素作为第一个和第二个参数传递给回调函数。<strong>与 <code>forEach()</code> 不同，<code>each()</code> 中，如果回调函数在任一个元素上返回 false，遍历将在该元素后中止</strong>。jQuery 方法通常隐式遍历匹配的元素，并操作它们。</p>
<p>jQuery 的 <code>map()</code> 和 <code>Array.prototype.map()</code> 相近。它将接收回调函数作为参数，并为 jQuery 对象中的每一个元素都调用回调函数，同时将回调函数的返回值收集起来，并封装成一个新的 jQuery 对象返回。<code>map()</code> 调用回调函数的方式和 <code>each()</code> 相同：元素的索引值作为第一个参数，元素本身作为 this 和第二个参数。</p>
<p>jQuery 的另一个基础方法是 <code>index()</code>。该方法接收一个元素作为参数，返回值是该元素在 jQuery 对象中的索引值，如果找不到的话，返回 -1。如果传递一个 jQuery 对象作为参数，<code>index()</code> 会对该对象的第一个元素进行搜索。如果传入的是字符串，<code>index()</code> 会把它当成 CSS 选择器，并返回 jQuery 对象中匹配该选择器的一组元素中第一个元素的索引值。如果什么都不传入，<code>index()</code> 会返回该 jQuery 对象中的第一个毗（pí）邻元素的索引值。</p>
<p>还有一个通用的 jQuery 方法是 <code>is()</code>。它接收一个选择器作为参数，如果选中元素至少有一个匹配该选择器时，则返回 true。可以在 <code>each()</code> 回调函数中使用它，例如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;div&#34;</span>).<span style="color:#a6e22e">each</span>(<span style="color:#66d9ef">function</span> () {
  <span style="color:#75715e">// 对于每一个 &lt;div&gt; 元素
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">$</span>(<span style="color:#66d9ef">this</span>).<span style="color:#a6e22e">is</span>(<span style="color:#e6db74">&#34;:hidden&#34;</span>)) <span style="color:#66d9ef">return</span>; <span style="color:#75715e">// 跳过隐藏元素
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// 对可见元素做点什么
</span><span style="color:#75715e"></span>});
</code></pre></div><hr>
<h2 id="jqeury-的-getter-和-setter">
  jQeury 的 getter 和 setter
  <a class="heading-link" href="#jqeury-%e7%9a%84-getter-%e5%92%8c-setter">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>jQuery 对象上最简单、最常见的操作是获取（get）或设置（set）HTML 属性、CSS 样式、元素内容和位置高宽的值。jQuery 中的 getter 和 setter：</p>
<ul>
<li><strong>jQuery 使用同一个方法即当 getter 用又当 setter 用，而不是定义一对方法</strong>。如果传入一个新值给该方法，则它设置此值；如果没有指定值，则它返回当前值；</li>
<li>用作 setter 时，这些方法会给 jQuery 对象中的每一个元素设置值，然后返回该 jQuery 对象以便链式调用；</li>
<li>用作 setter 时，这些方法经常接收对象参数。在这种情况下，该对象的每个属性都需指定一个将要被设置的键值对；</li>
<li>用作 setter 时，这些方法经常接收函数参数。在这种情况下，会调用该函数来计算需要被设置的值。调用该函数传入的 this 值是对应的元素，第一个参数是该元素的索引值，第二个参数是该元素的当前值；</li>
<li>用作 getter 时，这些方法只会查询元素集中的第一个元素，返回单个值。如果需要遍历所有元素，请使用 <code>map()</code>。</li>
</ul>
<h3 id="获取和设置-html-属性">
  获取和设置 HTML 属性
  <a class="heading-link" href="#%e8%8e%b7%e5%8f%96%e5%92%8c%e8%ae%be%e7%bd%ae-html-%e5%b1%9e%e6%80%a7">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p><code>attr()</code> 是 jQuery 中用于 HTML 属性的 getter / setter。<code>attr()</code> 处理浏览器的兼容性和一些特殊情况，还可以让 HTML 属性名和 JavaScript 属性名可以等同使用，如 &ldquo;for&rdquo; - &ldquo;htmlfor&rdquo;、&ldquo;class&rdquo; - &ldquo;className&rdquo;。一个相关的函数是 <code>removeAttr()</code>。例子：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;form&#39;</span>).<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;action&#39;</span>); <span style="color:#75715e">// 获取第一个 form 元素的 action 属性
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;#icon&#39;</span>).<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;src&#39;</span>, <span style="color:#e6db74">&#39;icon.gif&#39;</span>); <span style="color:#75715e">// 设置 src 属性
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;#banner&#39;</span>).<span style="color:#a6e22e">attr</span>({<span style="color:#a6e22e">src</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;banner.gif&#39;</span>, <span style="color:#a6e22e">alt</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;Adverisement&#39;</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span><span style="color:#ae81ff">720</span>, <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span><span style="color:#ae81ff">64</span>});
<span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;a&#39;</span>).<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;target&#39;</span>, <span style="color:#e6db74">&#39;_blank&#39;</span>); <span style="color:#75715e">// 使所有链接在新窗口中打开
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;a&#39;</span>).<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;target&#39;</span>, <span style="color:#66d9ef">function</span> () {
  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">host</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">locaction</span>.<span style="color:#a6e22e">host</span>) <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;_self&#39;</span>;
  <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;_blank&#39;</span>;
}); <span style="color:#75715e">// 非站内链接在新窗口中打开
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;a&#39;</span>).<span style="color:#a6e22e">attr</span>({<span style="color:#a6e22e">target</span><span style="color:#f92672">:</span><span style="color:#66d9ef">function</span> () {...}}); <span style="color:#75715e">// 可以像这样传入函数
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;a&#39;</span>).<span style="color:#a6e22e">removeAttr</span>(<span style="color:#e6db74">&#39;target&#39;</span>); <span style="color:#75715e">// 让所有连接在本窗口中打开
</span></code></pre></div><h3 id="获取和设置-css-属性">
  获取和设置 CSS 属性
  <a class="heading-link" href="#%e8%8e%b7%e5%8f%96%e5%92%8c%e8%ae%be%e7%bd%ae-css-%e5%b1%9e%e6%80%a7">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p><code>css()</code> 和 <code>attr()</code> 很类似，只是 <code>css()</code> 作用于元素的 CSS 样式，而不是元素的 HTML 属性。<code>css()</code> 返回元素的当前的样式，返回值可能来自 style 属性也可能来自样式表。<code>css()</code> 允许在 CSS 样式名中使用连字符或驼峰格式的 JavaScript 样式名。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">(<span style="color:#e6db74">&#39;h1&#39;</span>).<span style="color:#a6e22e">css</span>(<span style="color:#e6db74">&#39;font-weight&#39;</span>); <span style="color:#75715e">// 获取第一个 &lt;h1&gt; 的字体重量
</span><span style="color:#75715e"></span>(<span style="color:#e6db74">&#39;h1&#39;</span>).<span style="color:#a6e22e">css</span>(<span style="color:#e6db74">&#39;fontWeight&#39;</span>); <span style="color:#75715e">// 也可以采用驼峰格式
</span><span style="color:#75715e"></span>(<span style="color:#e6db74">&#39;h1&#39;</span>).<span style="color:#a6e22e">css</span>(<span style="color:#e6db74">&#39;font&#39;</span>); <span style="color:#75715e">// 错误：不可以获取复合样式
</span><span style="color:#75715e"></span>(<span style="color:#e6db74">&#39;h1&#39;</span>).<span style="color:#a6e22e">css</span>(<span style="color:#e6db74">&#39;font-variant&#39;</span>, <span style="color:#e6db74">&#39;smallcaps&#39;</span>); <span style="color:#75715e">// 将样式设置在所有 &lt;h1&gt; 元素上
</span><span style="color:#75715e"></span>(<span style="color:#e6db74">&#39;div.note&#39;</span>).<span style="color:#a6e22e">css</span>(<span style="color:#e6db74">&#39;board&#39;</span>, <span style="color:#e6db74">&#39;solid black 2px&#39;</span>); <span style="color:#75715e">// 设置复合样式
</span><span style="color:#75715e"></span>(<span style="color:#e6db74">&#39;h1&#39;</span>).<span style="color:#a6e22e">css</span>({<span style="color:#a6e22e">backgroundColor</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;black&#39;</span>, <span style="color:#a6e22e">textColor</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;white&#39;</span>, <span style="color:#a6e22e">fontVariant</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;small-caps&#39;</span>, <span style="color:#a6e22e">padding</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;10px 2px 4px 20px&#39;</span>. <span style="color:#a6e22e">boarder</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;dotted black 4px&#39;</span>});
(<span style="color:#e6db74">&#39;h1&#39;</span>).<span style="color:#a6e22e">css</span>(<span style="color:#e6db74">&#39;font-size&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">curval</span>) {
  <span style="color:#66d9ef">return</span> Math.<span style="color:#a6e22e">round</span>(<span style="color:#ae81ff">1.25</span> <span style="color:#f92672">*</span> parseInt(<span style="color:#a6e22e">vurval</span>));
}); <span style="color:#75715e">// 使所有的 &lt;h1&gt; 字体增加 25%
</span></code></pre></div><h3 id="获取和设置-css-类">
  获取和设置 CSS 类
  <a class="heading-link" href="#%e8%8e%b7%e5%8f%96%e5%92%8c%e8%ae%be%e7%bd%ae-css-%e7%b1%bb">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p><code>addClass()</code> 和 <code>removeClass()</code> 用来从选中元素中添加和删除类。<code>toggleClass()</code> 在当元素还没有某些类时，给元素添加这些类，反之则删除。<code>hasClass()</code> 用来判断某类是否存在。例子：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// 添加 CSS 类
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;h1&#34;</span>).<span style="color:#a6e22e">addClass</span>(<span style="color:#e6db74">&#34;hilite&#34;</span>);
<span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;h1+p&#34;</span>).<span style="color:#a6e22e">addClass</span>(<span style="color:#e6db74">&#34;hilite first&#34;</span>); <span style="color:#75715e">// 给 &lt;h1&gt; 后面的 &lt;p&gt; 添加两个类
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;section&#34;</span>).<span style="color:#a6e22e">addClass</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">n</span>) {
  <span style="color:#75715e">// 传递一个函数用以匹配
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;section&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">n</span>; <span style="color:#75715e">// 每一个元素添加自定义类
</span><span style="color:#75715e"></span>});

<span style="color:#75715e">// 删除 CSS 类
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;p&#34;</span>).<span style="color:#a6e22e">removeClass</span>(<span style="color:#e6db74">&#34;hilite&#34;</span>); <span style="color:#75715e">// 从所有 &lt;p&gt; 元素中删除一个类
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;p&#34;</span>).<span style="color:#a6e22e">removeClass</span>(<span style="color:#e6db74">&#34;hilite first&#34;</span>); <span style="color:#75715e">// 允许一次删除多个类
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;section&#34;</span>).<span style="color:#a6e22e">removeClass</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">n</span>) {
  <span style="color:#75715e">// 从元素中删除自定义类
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;section&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">n</span>;
});
<span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;div&#34;</span>).<span style="color:#a6e22e">removeClass</span>(); <span style="color:#75715e">// 删除所有 &lt;div&gt; 中的所有类
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// 切换 CSS 类
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;tr:odd&#34;</span>).<span style="color:#a6e22e">toggleClass</span>(<span style="color:#e6db74">&#34;oddrow&#34;</span>); <span style="color:#75715e">// 如果该类不存在，则添加。如果存在则删除
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;h1&#34;</span>).<span style="color:#a6e22e">toggleClass</span>(<span style="color:#e6db74">&#34;big bold&#34;</span>); <span style="color:#75715e">// 一次切换两个类
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;h1&#34;</span>).<span style="color:#a6e22e">toggleClass</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">n</span>) {
  <span style="color:#75715e">// 切换用来函数计算出来的类
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;big bold h1-&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">n</span>;
});
<span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;h1&#34;</span>).<span style="color:#a6e22e">toggleClass</span>(<span style="color:#e6db74">&#34;hilite&#34;</span>, <span style="color:#66d9ef">true</span>); <span style="color:#75715e">// 类似 addClass
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;h1&#34;</span>).<span style="color:#a6e22e">toggleClass</span>(<span style="color:#e6db74">&#34;hilite&#34;</span>, <span style="color:#66d9ef">false</span>); <span style="color:#75715e">// 类似 removeClass
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// 检测 CSS 类
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;p&#34;</span>).<span style="color:#a6e22e">hasClass</span>(<span style="color:#e6db74">&#34;first&#34;</span>); <span style="color:#75715e">// 是否所有 p 元素都有该类
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#lead&#34;</span>).<span style="color:#a6e22e">is</span>(<span style="color:#e6db74">&#34;.first&#34;</span>); <span style="color:#75715e">// 功能和上面类似
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#lead&#34;</span>).<span style="color:#a6e22e">is</span>(<span style="color:#e6db74">&#34;.first.hilite&#34;</span>); <span style="color:#75715e">// is() 比 hasClass() 更灵活
</span></code></pre></div><h3 id="获取和设置-html-表单值">
  获取和设置 HTML 表单值
  <a class="heading-link" href="#%e8%8e%b7%e5%8f%96%e5%92%8c%e8%ae%be%e7%bd%ae-html-%e8%a1%a8%e5%8d%95%e5%80%bc">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p><code>val()</code> 用来获取和设置 HTML 表单元素的 value 属性，还可以用于获取和设置复选框、单选按钮以及 <code>&lt;select&gt;</code> 元素的选中状态。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#surname&#34;</span>).<span style="color:#a6e22e">val</span>(); <span style="color:#75715e">// 获取 surname 文本域的值
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#usstate&#34;</span>).<span style="color:#a6e22e">val</span>(); <span style="color:#75715e">// 从 &lt;select&gt; 中获取单一值
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;select#extras&#34;</span>).<span style="color:#a6e22e">val</span>(); <span style="color:#75715e">// 从 &lt;select multiple&gt; 中获取一组值
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;input:radio[name=ship]:checked&#34;</span>).<span style="color:#a6e22e">val</span>(); <span style="color:#75715e">// 获取选中的单选按钮的值
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#email&#34;</span>).<span style="color:#a6e22e">val</span>(<span style="color:#e6db74">&#34;Invalid email address&#34;</span>); <span style="color:#75715e">// 给文本域设置值
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;input:checkbox&#34;</span>).<span style="color:#a6e22e">val</span>([<span style="color:#e6db74">&#34;opt1&#34;</span>, <span style="color:#e6db74">&#34;opt2&#34;</span>]); <span style="color:#75715e">// 选中带有这些名字或值的复选框
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;input:text&#34;</span>).<span style="color:#a6e22e">val</span>(<span style="color:#66d9ef">function</span> () {
  <span style="color:#75715e">// 重置所有文本域为默认值
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">defaultValue</span>;
});
</code></pre></div><h3 id="获取和设置元素的内容">
  获取和设置元素的内容
  <a class="heading-link" href="#%e8%8e%b7%e5%8f%96%e5%92%8c%e8%ae%be%e7%bd%ae%e5%85%83%e7%b4%a0%e7%9a%84%e5%86%85%e5%ae%b9">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p><code>text()</code> 和 <code>html()</code> 用来获取和设置元素的纯文本或 HTML 内容。当不带参数调用时，<code>text()</code> 返回所有匹配元素的子孙文本节点的纯文本内容，<code>html()</code> 返回第一个匹配元素的 HTML 内容。如果传入字符串给 <code>text()</code> 或 <code>html()</code>，该字符串会用作该元素的纯文本或格式化 HTML 文本内容。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;head title&#34;</span>).<span style="color:#a6e22e">text</span>(); <span style="color:#75715e">// 获取文档标题
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">headline</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;h1&#34;</span>).<span style="color:#a6e22e">html</span>(); <span style="color:#75715e">// 获取第一个 &lt;h1&gt; 元素的 html
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;h1&#34;</span>).<span style="color:#a6e22e">text</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">n</span>, <span style="color:#a6e22e">current</span>) {
  <span style="color:#75715e">// 给每一个标题添加章节号
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;§&#34;</span> <span style="color:#f92672">+</span> (<span style="color:#a6e22e">n</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;:&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">current</span>;
});
</code></pre></div><h3 id="获取和设置元素的位置高宽">
  获取和设置元素的位置高宽
  <a class="heading-link" href="#%e8%8e%b7%e5%8f%96%e5%92%8c%e8%ae%be%e7%bd%ae%e5%85%83%e7%b4%a0%e7%9a%84%e4%bd%8d%e7%bd%ae%e9%ab%98%e5%ae%bd">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>使用 <code>offset()</code> 可以获取或设置元素的位置。该方法相对文档来计算位置值，返回一个对象，带有 left 和 top 属性，代表 X 和 Y 坐标。</p>
<p><code>position()</code> 很像 <code>offset()</code>，但它只能用作 getter，返回的元素是相对于其偏移父元素的，而不是相对于文档的。</p>
<p>用于获取元素宽度和高度的 getter / setter 共有 3 个。<code>width()</code> 和 <code>height()</code> 返回基本的宽度和高度，不包含内边距、边框、外边距。<code>innerWidth()</code> 和 <code>innerHeight()</code> 返回元素的宽度和高度，包含内边距的宽度和高度。<code>outerWidth()</code> 和 <code>outerHeight()</code> 通常返回的是包含元素内边距和边框的尺寸。</p>
<p><code>scrollTop()</code> 和 <code>scrollLeft()</code> 可获取或设置元素的滚动条位置。这些方法可用在 Window 对象以及 Document 元素上。当用在 Document 对象上时，会获取或设置存放该 Document 的 Window 对象的滚动条位置。</p>
<h3 id="获取和设置元素数据">
  获取和设置元素数据
  <a class="heading-link" href="#%e8%8e%b7%e5%8f%96%e5%92%8c%e8%ae%be%e7%bd%ae%e5%85%83%e7%b4%a0%e6%95%b0%e6%8d%ae">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>jQuery 定义了一个名为 <code>data()</code> 的 getter / setter 方法，可用来获取或设置与文档元素、Document、Window 对象相关的数据。</p>
<p><code>removeData()</code> 用来从元素中删除数据。如果不带参数调用 <code>removeData()</code>，它会删除与元素相关联的所有数据。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;div&#34;</span>).<span style="color:#a6e22e">data</span>(<span style="color:#e6db74">&#34;x&#34;</span>, <span style="color:#ae81ff">1</span>); <span style="color:#75715e">// 设置一些数据
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;div.nodata&#34;</span>).<span style="color:#a6e22e">removeData</span>(<span style="color:#e6db74">&#34;x&#34;</span>); <span style="color:#75715e">// 删除一些数据
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#mydiv&#34;</span>).<span style="color:#a6e22e">data</span>(<span style="color:#a6e22e">x</span>); <span style="color:#75715e">// 获取一些数据
</span></code></pre></div><hr>
<h2 id="修改文档结构">
  修改文档结构
  <a class="heading-link" href="#%e4%bf%ae%e6%94%b9%e6%96%87%e6%a1%a3%e7%bb%93%e6%9e%84">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>HTML 文档表示为一棵节点树，而不是一个字符的线性序列，因此插入、删除、替换操作不会像操作字符串和数组一样简单。</p>
<p>下面演示的每一个方法都接收一个参数，用于指定需要插入文档中的内容。该参数可以是用于指定新内容的纯文本或 HTML 字符串，也可以是 jQuery 对象、元素、文本节点。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#log&#34;</span>).<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#34;&lt;br&gt;&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">message</span>); <span style="color:#75715e">// 在 #log元素结尾处添加内容
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;h1&#34;</span>).<span style="color:#a6e22e">prepend</span>(<span style="color:#e6db74">&#34;§&#34;</span>); <span style="color:#75715e">// 在每个 &lt;h1&gt; 的起始处添加章节标识
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;h1&#34;</span>).<span style="color:#a6e22e">before</span>(<span style="color:#e6db74">&#34;&lt;hr&gt;&#34;</span>); <span style="color:#75715e">// 在每个 &lt;h1&gt; 的前面添加水平线
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;h1&#34;</span>).<span style="color:#a6e22e">after</span>(<span style="color:#e6db74">&#34;&lt;hr&gt;&#34;</span>); <span style="color:#75715e">// 在每个 &lt;h1&gt; 的后面添加水平线
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;hr&#34;</span>).<span style="color:#a6e22e">replaceWith</span>(<span style="color:#e6db74">&#34;&lt;br&gt;&#34;</span>); <span style="color:#75715e">// 替换 &lt;hr&gt; 元素为 &lt;br&gt;
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;h2&#34;</span>).<span style="color:#a6e22e">each</span>(<span style="color:#66d9ef">function</span> () {
  <span style="color:#75715e">// 将 &lt;h2&gt; 替换为 &lt;h1&gt;，内容保持不变
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">h2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#66d9ef">this</span>);
  <span style="color:#a6e22e">h2</span>.<span style="color:#a6e22e">replaceWith</span>(<span style="color:#e6db74">&#34;&lt;h1&gt;&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">h2</span>.<span style="color:#a6e22e">html</span>() <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;&lt;/h1&gt;&#34;</span>);
});
</code></pre></div><p><code>clone()</code> 创建并返回每一个选中的元素的一个副本，其返回的 jQuery 对象还不是文档的一部分，但可以使用上一节的方法将其插入文档中。</p>
<p>jQuery 定义了 3 种包装函数。<code>warp()</code> 包装每一个选中元素，<code>wrapInner()</code> 包装每一个选中元素的内容，<code>warpAll()</code> 将选中元素作为一组来包装。这些方法通常传入一个新创见的包装元素或用来创建元素的 HTML 字符串。</p>
<p><code>empty()</code> 会删除每个选中元素的所有字节点，但不会修改元素自身。<code>remove()</code> 会从文档中移除选中元素，如果传入一个参数，该参数会被当成选择器，jQeury 对象中只有匹配该选择器的元素才会被移除。<code>remove()</code> 会移除所有事件处理程序以及可能绑定到被移除元素上的其它数据。<code>detach()</code> 和 <code>remove()</code> 类似，但不会移除事件处理程序和数据。</p>
<hr>
<h2 id="使用-jquery-处理事件">
  使用 jQuery 处理事件
  <a class="heading-link" href="#%e4%bd%bf%e7%94%a8-jquery-%e5%a4%84%e7%90%86%e4%ba%8b%e4%bb%b6">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>jQuery 定义了一个统一事件 API，可兼容 IE（包括 IE9 以下），并能在所有浏览器中工作。jQuery API 具有简单的形式，比标准或 IE 的事件 API 更容易使用。jQuery API 还具有更复杂、功能更齐全的形式，比标准 API 更强大。</p>
<h3 id="事件处理程序的简单注册">
  事件处理程序的简单注册
  <a class="heading-link" href="#%e4%ba%8b%e4%bb%b6%e5%a4%84%e7%90%86%e7%a8%8b%e5%ba%8f%e7%9a%84%e7%ae%80%e5%8d%95%e6%b3%a8%e5%86%8c">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>jQuery 定义了简单的事件注册方法，可用于常用和普适的每一个浏览器事件。比如，给单击事件注册一个事件处理程序，只要调用 <code>click()</code> ：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;p&#34;</span>).<span style="color:#a6e22e">click</span>(<span style="color:#66d9ef">function</span> () {
  <span style="color:#a6e22e">$</span>(<span style="color:#66d9ef">this</span>).<span style="color:#a6e22e">css</span>(<span style="color:#e6db74">&#34;background-color&#34;</span>, <span style="color:#e6db74">&#34;gray&#34;</span>);
});
</code></pre></div><p>调用 jQuery 的事件注册方法可以给所有选中元素注册处理程序。下面是 jQuery 定义的简单事件处理程序注册的方法：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">blur</span>()      <span style="color:#a6e22e">focus</span>()     <span style="color:#a6e22e">mousedown</span>()     <span style="color:#a6e22e">mouseover</span>()
<span style="color:#a6e22e">click</span>()     <span style="color:#a6e22e">focusion</span>()  <span style="color:#a6e22e">mouseup</span>()       <span style="color:#a6e22e">resize</span>()
<span style="color:#a6e22e">dbclick</span>()   <span style="color:#a6e22e">focusout</span>()  <span style="color:#a6e22e">mouseenter</span>()    <span style="color:#a6e22e">scroll</span>()
<span style="color:#a6e22e">change</span>()    <span style="color:#a6e22e">keydown</span>()   <span style="color:#a6e22e">mouseleave</span>()    <span style="color:#a6e22e">load</span>()
<span style="color:#a6e22e">select</span>()    <span style="color:#a6e22e">keypress</span>()  <span style="color:#a6e22e">mousemove</span>()     <span style="color:#a6e22e">unload</span>()
<span style="color:#a6e22e">submit</span>()    <span style="color:#a6e22e">keyup</span>()     <span style="color:#a6e22e">mouseout</span>()      <span style="color:#a6e22e">error</span>()
</code></pre></div><p>focus 和 blur 事件不支持冒泡，但 focusin 和 focusout 事件支持。相反地，mouseover 和 mouseout 事件支持冒泡，但 mouseenter 和 mouseleave 事件不支持。</p>
<p>resize 和 unload 事件类型只在 Window 对象中触发，如果想要给这两个事件类型注册处理程序，应该在 <code>$(window)</code> 上调用 <code>resize()</code> 和 <code>unload()</code>。<code>scroll()</code> 经常也用与 <code>$(window)</code> 对象上，但它可以用在有滚动条的任何元素上，比如当 CSS 的 overflow 属性设置为 scroll 或 auto 时。<code>load()</code> 可在 <code>$(window)</code> 上调用，用来给窗口注册加载事件处理程序，但经常更好的选择是，直接将初始化函数传给 <code>$()</code>。当然，还可以在 iframe 和图片上使用 <code>load()</code> 。<code>error()</code> 可用在 <code>&lt;img&gt;</code> 元素上，用来注册当图片加载失败时调用的处理程序。</p>
<p>除了这些简单的事件注册方法外，还有两个特殊形式的方法，有时很有用：</p>
<ul>
<li><code>hover()</code> 用来给 mouseenter 和 mouseleave 事件注册处理程序。调用 <code>hover(f, g)</code> 就和先调用 <code>mouseenter(f)</code> 然后调用 <code>mouseleave(g)</code> 一样。如果仅传入一个参数，该参数函数会同时用做 enter 和 leave 事件的处理程序；</li>
<li><code>toggle()</code> 将事件处理程序绑定到单击事件。可以指定两个或多个处理程序函数，当单击事件发生时，jQuery 每次会调用一个处理程序函数。例如，如果调用 <code>toggle(f, g, h)</code>，第一次单击事件触发时，会调用函数 <code>f()</code>，第二次会调用 <code>g()</code>，第三次会调用 <code>h()</code>，然后第四次会再调用 <code>f()</code>。</li>
</ul>
<h3 id="jquery-事件处理程序">
  jQuery 事件处理程序
  <a class="heading-link" href="#jquery-%e4%ba%8b%e4%bb%b6%e5%a4%84%e7%90%86%e7%a8%8b%e5%ba%8f">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>上面例子中的事件处理程序函数被当作是不带参数以及不返回值的，但 jQuery 调用每一个事件处理程序，实际上都传入了一个或多个参数，并且对处理程序的返回值进行了处理。<strong>需要知道的最重要的一件事情是，每个事件处理程序都传入了一个 <a href="#jQuery-%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1">jQuery 事件对象</a> 作为第一个参数</strong>。该对象的字段提供了与该事件相关的详细信息，比如鼠标指针的坐标。jQuery 模拟标准 Event 对象，即便在不支持的标准事件对象的浏览器中（像 IE8 及其以下），jQuery 事件对象在所有浏览器上都拥有一组相同的字段。</p>
<p>jQuery 事件处理程序函数的返回值始终是有意义的。如果处理程序返回 false，则与该事件相关联的默认行为，以及该事件接下来的冒泡都会被取消。也就是说，返回 false 等同于调用 Event 对象的 <code>preventDefault()</code> 和 <code>stopPropagation()</code>。同样，当事件处理程序返回一个值（非 undefined 值）时，jQuery 会将该值存储在 Event 对象的 result 属性中，该属性可以被后续调用的事件处理程序访问。</p>
<h3 id="jquery-事件对象">
  jQuery 事件对象
  <a class="heading-link" href="#jquery-%e4%ba%8b%e4%bb%b6%e5%af%b9%e8%b1%a1">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>jQuery 通过定义自己的 Event 对象来隐藏浏览器之间的实现差异。当一个 jQuery 事件处理程序被调用时，总会传入一个 jQuery 事件对象作为其第一个参数。jQuery 会将以下所有字段从原声 Event 对象中复制到 jQuery 事件对象上，尽管对于特定事件类型来说，有些字段值为 undefined。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">altKey</span>      <span style="color:#a6e22e">ctrlKey</span>         <span style="color:#a6e22e">newValue</span>        <span style="color:#a6e22e">screenX</span>
<span style="color:#a6e22e">attrChange</span>  <span style="color:#a6e22e">currentTarget</span>   <span style="color:#a6e22e">offsetX</span>         <span style="color:#a6e22e">screenY</span>
<span style="color:#a6e22e">attrName</span>    <span style="color:#a6e22e">detail</span>          <span style="color:#a6e22e">offsetY</span>         <span style="color:#a6e22e">shiftKey</span>
<span style="color:#a6e22e">bubbles</span>     <span style="color:#a6e22e">eventPhase</span>      <span style="color:#a6e22e">originalTarget</span>  <span style="color:#a6e22e">srcElement</span>
<span style="color:#a6e22e">button</span>      <span style="color:#a6e22e">formElement</span>     <span style="color:#a6e22e">pageX</span>           <span style="color:#a6e22e">target</span>
<span style="color:#a6e22e">cancelable</span>  <span style="color:#a6e22e">keyCode</span>         <span style="color:#a6e22e">pageY</span>           <span style="color:#a6e22e">toElement</span>
<span style="color:#a6e22e">charCode</span>    <span style="color:#a6e22e">layerX</span>          <span style="color:#a6e22e">prevValue</span>       <span style="color:#a6e22e">view</span>
<span style="color:#a6e22e">clientX</span>     <span style="color:#a6e22e">layerY</span>          <span style="color:#a6e22e">relatedNode</span>     <span style="color:#a6e22e">whellDelta</span>
<span style="color:#a6e22e">clientY</span>     <span style="color:#a6e22e">metaKey</span>         <span style="color:#a6e22e">relatedTarget</span>   <span style="color:#a6e22e">which</span>
</code></pre></div><p>除了这些属性，jQuery 事件对象还定义了以下方法：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">preventDefault</span>()            <span style="color:#a6e22e">isDefaultPrevented</span>()
<span style="color:#a6e22e">stopPropagation</span>()           <span style="color:#a6e22e">isPropagationStopped</span>()
<span style="color:#a6e22e">stopImmediatePropagation</span>()  <span style="color:#a6e22e">isImmediatePropagationStopped</span>()
</code></pre></div><h3 id="触发事件">
  触发事件
  <a class="heading-link" href="#%e8%a7%a6%e5%8f%91%e4%ba%8b%e4%bb%b6">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>手动触发事件最简单的方式是不带参数调用事件注册的简单方法，比如 <code>click()</code> 或 <code>mouseover()</code>。与很多 jQuery 方法可以同时用做 getter 和 setter 一样，这些事件方法在带有一个参数时会注册事件处理程序，不带参数调用时则会触发事件处理程序。例如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#my_form&#34;</span>).<span style="color:#a6e22e">submit</span>(); <span style="color:#75715e">// 就和用户单击提交按钮一样
</span></code></pre></div><p>上面的 <code>submit()</code> 自己合成了一个 Event 对象，并触发了给 submit 事件注册的所有事件处理程序。如果这些事件处理程序没有返回 false 或调用 Event 对象的 <code>preventDefault()</code>，实际上将提交该表单。注意，通过这种方式手动调用时，冒泡事件依旧会冒泡。</p>
<p>需要特别注意，jQuery 的事件触发方法会触发所有使用 jQuery 事件注册方法注册的处理程序，也会触发通过 onsubmit 等 HTML 属性或 Element 属性定义的处理程序。但是，不能手动触发使用 <code>addEventListen()</code> 或 <code>attachEvent()</code> 注册的事件处理程序。</p>
<p>同时需要注意，jQuery 的事件触发机制是同步的（不涉及事件队列）。</p>
<h3 id="事件处理程序的高级注册--实时事件">
  事件处理程序的高级注册 &amp; 实时事件
  <a class="heading-link" href="#%e4%ba%8b%e4%bb%b6%e5%a4%84%e7%90%86%e7%a8%8b%e5%ba%8f%e7%9a%84%e9%ab%98%e7%ba%a7%e6%b3%a8%e5%86%8c--%e5%ae%9e%e6%97%b6%e4%ba%8b%e4%bb%b6">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>书中介绍使用 <code>bind()</code>，但实际建议使用 <code>on()</code>。</p>
<hr>
<h2 id="动画效果">
  动画效果
  <a class="heading-link" href="#%e5%8a%a8%e7%94%bb%e6%95%88%e6%9e%9c">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>jQuery 定义了 <code>fadeIn()</code> 和 <code>fadeOut()</code> 等简单的方法实现常见视觉效果。除了简单动画方法，jQuery 还定义了一个 <code>animate()</code>，用来实现更复杂的自定义动画。</p>
<p><strong>jQuery 动画是异步的</strong>。调用 <code>fadeIn()</code> 等动画方法时，它会立刻返回，动画则在「后台」执行。如果一个元素已经在动画过程中，再调用一个动画方法时，新动画是不会立刻执行，而会延迟到当前动画结束后才执行。例如，可以让一个元素在持久显示前先闪烁一会：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#blinker&#34;</span>).<span style="color:#a6e22e">fadeIn</span>(<span style="color:#ae81ff">100</span>).<span style="color:#a6e22e">fadeOut</span>(<span style="color:#ae81ff">100</span>).<span style="color:#a6e22e">fadeIn</span>(<span style="color:#ae81ff">100</span>).<span style="color:#a6e22e">fadeOut</span>(<span style="color:#ae81ff">100</span>).<span style="color:#a6e22e">fadeIn</span>(<span style="color:#ae81ff">100</span>);
</code></pre></div><h3 id="简单动画">
  简单动画
  <a class="heading-link" href="#%e7%ae%80%e5%8d%95%e5%8a%a8%e7%94%bb">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<ul>
<li>
<p><code>fadeIn()</code>、<code>fadeOut()</code>、<code>fadeTo()</code></p>
<p>这是最简单的动画：<code>fadeIn()</code> 和 <code>fadeOut()</code> 简单地改变 CSS 的 opacity 属性显示或隐藏元素。两者都接受可选的时长和回调参数。<code>fadeTo()</code> 稍有不同，它需要传入一个 opacity 目标值，<code>fadeTo()</code> 会将元素的当前 opacity 值变化到目标之。调用 <code>fadeTo()</code> 时，第一参数必须是时长或选项对象，第二参数是 opacity 目标值，第三参数是回调函数。</p>
</li>
<li>
<p><code>show()</code>、<code>hide()</code>、<code>toggle()</code></p>
<p><code>hide()</code> 和 <code>show()</code> 只是简单地立刻隐藏或显示选中元素，带有时长或选项对象时，它们会隐藏或显示有个动画过程。<code>toggle()</code> 可以改变在上面调用它的元素的可视状态：如果隐藏，则调用 <code>show()</code>，如果显示，则调用 <code>hide()</code>。</p>
</li>
<li>
<p><code>slideDown()</code>、<code>slideUp()</code>、<code>slideToggle()</code></p>
<p><code>slideUp()</code> 会隐藏 jQuery 对象中的元素，方式是将其高度动态变化到 0 ，然后设置 CSS 的 display 属性为 none。<code>slideDown()</code> 执行反向操作，来使得隐藏的元素再次可见。<code>slideToggle()</code> 使用向上滑动或向下滑动动画来切换元素的可见性。</p>
</li>
</ul>
<h3 id="自定义动画">
  自定义动画
  <a class="heading-link" href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e5%8a%a8%e7%94%bb">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p><code>animate()</code> 可以实现更多通用的动画效果。第一个参数是必需的，它必须是一个对象，该对象的属性指定要变化的 CSS 属性和它们的目标值。第二个参数是可选的，可以传入一个选项对象给 <code>animate()</code>。通常，<code>animate()</code> 接收两个对象参数，第一个指定动画内容，第二个指定如何定制动画。</p>
<ol>
<li>
<p>动画属性对象</p>
<p>该对象的属性名必须是 CSS 属性，这些属性的值必须是动画的目标值。动画只支持数值属性：对于颜色、字体或 display 等枚举属性是无法实现动画效果的。如果属性值是数值，则默认单位是像素。如果属性值是字符串，可以指定单位。还可以指定相对值，用「+=」前缀表示增加，用「-=」前缀表示减少。jQuery 动画属性对象中，还可以使用 hide、show、toggle 这三个属性值。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;p&#34;</span>).<span style="color:#a6e22e">animate</span>({
  <span style="color:#e6db74">&#34;margin-left&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;+=.5in&#34;</span>, <span style="color:#75715e">// 增加段落缩进
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">opacity</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;-=.1&#34;</span>, <span style="color:#75715e">// 同时减少不透明度
</span><span style="color:#75715e"></span>});
<span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;img&#34;</span>).<span style="color:#a6e22e">animate</span>({
  <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;hide&#34;</span>,
  <span style="color:#a6e22e">borderLeft</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;hide&#34;</span>,
  <span style="color:#a6e22e">borderRight</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;hide&#34;</span>,
  <span style="color:#a6e22e">paddingLeft</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;hide&#34;</span>,
  <span style="color:#a6e22e">paddingRight</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;hide&#34;</span>,
});
</code></pre></div></li>
<li>
<p>动画选项对象</p>
<p>该选项对象用来指定动画如何执行。duration 属性指定动画持续的毫秒时间，其值可以是 fast、slow 或任何 jQuery.fx.speeds 中定义的名称。complete 属性指定动画完成时的回调函数。setp 属性指定在动画每一步或每一帧调用的回调函数。在回调函数中，this 指向正在连续变化的元素，第一个参数则是正在变化的属性值。queue 属性指定动画是否需要队列化，即是否需要等到所有尚未发生的动画都完成后再执行该动画。默认情况下，所有动画都是队列化的。easing 属性指定缓动函数名，jQuery 默认使用的是命为 swing 的正弦函数。</p>
</li>
</ol>
<hr>
<h2 id="jquery-中的-ajax">
  jQuery 中的 Ajax
  <a class="heading-link" href="#jquery-%e4%b8%ad%e7%9a%84-ajax">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>在 Web 应用编程技术里，Ajax 很流行，它使用 HTTP 脚本来按需加载数据，而不需要刷新整个页面。jQuery 定义了一个高级工具方法和四个高级工具函数。这些高级工具都基于同一个强大的底层函数：<code>jQuery.ajax()</code>。</p>
<h3 id="load-方法">
  load() 方法
  <a class="heading-link" href="#load-%e6%96%b9%e6%b3%95">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p><code>load()</code> 是所有 jQuery 工具中最简单的：向它传入一个 URL，它会异步加载该 URL 的内容，然后将内容插入每一个选中的元素，替换掉已经存在的任何内容。例如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// 每隔 60 秒加载并显示最新的状态报告
</span><span style="color:#75715e"></span><span style="color:#a6e22e">setInterval</span>(<span style="color:#66d9ef">function</span> () {
  <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#status&#34;</span>).<span style="color:#a6e22e">load</span>(<span style="color:#e6db74">&#34;status_report.html&#34;</span>);
}, <span style="color:#ae81ff">60</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">1000</span>);
</code></pre></div><p><code>load()</code> 可以用来注册 load 事件。如果传给方法的第一个参数是函数而不是字符串，则 <code>load()</code> 是注册事件处理程序而不是 Ajax 方法。</p>
<p>如果只想显示被加载文档的一部分，可以在 URL 后面添加一个空格和一个 jQuery 选择器。当 URL 加载完成后，jQuery 会用指定的选择器来从加载好的 HTML 中选取需要显示的部分：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// 加载并显示天气预告的温度部分
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#temp&#34;</span>).<span style="color:#a6e22e">load</span>(<span style="color:#e6db74">&#34;wheather_report.html #temperature&#34;</span>);
</code></pre></div><p>除了 URL 参数，<code>load()</code> 还接受两个可选参数。第一个可选参数表示的数据，可以追加到 URL 后面，或者与请求一起发送。另一个可选参数是回调函数。如果没有指定任何数据，回调函数可以作为第二个参数传入。否则，它必须是第三个参数。在 jQuery 对象的每一个元素上都会调用回调函数，并且每次调用都会传入三个参数：被加载 URL 的完整文本内容、状态码字符串、以及用来加载该 URL 的 XMLHttpRequest 对象。其中，状态参数是 jQuery 的状态码，不是 HTTP 的状态码，其值是类似 success、error 和 timeout 的字符串。</p>
<table>
<thead>
<tr>
<th>jQuery 状态码</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>表示请求成功完成。</td>
</tr>
<tr>
<td>notmodified</td>
<td>该状态码表示请求已经正常完成，但服务器返回的响应内容是 HTTP 304 Not-Modified，表示请求的 URL 内容和上次请求的相同。</td>
</tr>
<tr>
<td>error</td>
<td>表示请求没有成功完成，原因是某些 HTTP 错误。</td>
</tr>
<tr>
<td>timout</td>
<td>如果 Ajax 请求没有在选定的超时时间内完成，会调用错误回调，并传入该状态码。</td>
</tr>
<tr>
<td>parsererror</td>
<td>该状态码表示 HTTP 请求已经成功完成，但 jQuery 无法按照期望的方式解析。</td>
</tr>
</tbody>
</table>
<h3 id="ajax-工具函数">
  Ajax 工具函数
  <a class="heading-link" href="#ajax-%e5%b7%a5%e5%85%b7%e5%87%bd%e6%95%b0">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>jQuery 的其它 Ajax 高级工具不是方法，而是函数，可以通过 <code>jQuery</code> 或 <code>$</code> 直接调用，而不是在 jQuery 对象上调用。</p>
<h4 id="jquerygetscript">
  jQuery.getScript()
  <a class="heading-link" href="#jquerygetscript">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h4>
<p><code>jQuery.getScript()</code> 函数的第一个参数是 JavaScript 代码文件的 URL。它会异步加载文件，加载完成之后在全局作用域执行该代码。它能同时适用于同源和跨源脚本：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// 从其它服务器动态加载脚本
</span><span style="color:#75715e"></span><span style="color:#a6e22e">jQuery</span>.<span style="color:#a6e22e">getScript</span>(<span style="color:#e6db74">&#34;http://example.com/js/widget.js&#34;</span>);
</code></pre></div><p>可以传入回调函数作为第二个参数，在这种情况下，jQuery 会在代码加载和执行完成之后调用一次该回调函数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// 加载一个类库，并在加载完成时立刻使用它
</span><span style="color:#75715e"></span><span style="color:#a6e22e">jQuery</span>.<span style="color:#a6e22e">getScript</span>(<span style="color:#e6db74">&#34;js/jquery.my.plugin.js&#34;</span>, <span style="color:#66d9ef">function</span> () {
  <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;div&#34;</span>).<span style="color:#a6e22e">my_plugin</span>(); <span style="color:#75715e">// 使用加载的类库
</span><span style="color:#75715e"></span>});
</code></pre></div><p>传递给 <code>jQuery.getScript()</code> 的回调函数，仅在请求成功完成时才会被调用。</p>
<h4 id="jquerygetjson">
  jQuery.getJSON()
  <a class="heading-link" href="#jquerygetjson">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h4>
<p><code>jQuery.getJSON()</code> 和 <code>jQuery.getScript()</code> 类似：它会获取文本，然后特殊处理一下，再调用指定的回调函数。<code>jQuery.getJSON()</code> 获取到文本之后，不会将其当作脚本执行，而会将其解析为 JSON。<code>jQuery.getJSON()</code> 只有在传入了回调函数时才有用。当成功加载 URL，以及将内容成功解析为 JSON 后，解析的结果会作为第一个参数传入回调函数中。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// 假设 data.json 包含文本：{&#34;x&#34;:1, &#34;y&#34;:2}
</span><span style="color:#75715e"></span><span style="color:#a6e22e">jQuery</span>.<span style="color:#a6e22e">getJSON</span>(<span style="color:#e6db74">&#34;data.json&#34;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">data</span>) {
  <span style="color:#75715e">// data 参数是对象 {x:1, y:2}
</span><span style="color:#75715e"></span>});
</code></pre></div><p>与 <code>jQuery.getScript()</code> 不同，<code>jQuery.getJSON()</code> 接受一个可选的数据对象参数，就和传入 <code>load()</code> 中的一样。</p>
<h4 id="jqueryget-和-jquerypost">
  jQuery.get() 和 jQuery.post()
  <a class="heading-link" href="#jqueryget-%e5%92%8c-jquerypost">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h4>
<p><code>jQuery.get()</code> 和 <code>jQuery.post()</code> 获取指定 URL 的内容，如果有数据的话，还可以传入指定数据，最后则将结果传递给指定的回调函数。<code>jQuery.get()</code> 使用 HTTP GET 请求来实现，<code>jQuery.post()</code> 使用 HTTP POST 请求实现。与 <code>jQuery.getJSON()</code> 一样，这两个方法也接受相同的三个参数：必须的回调函数，可选的数据字符串或对象，以及一个技术上可选但实际上总会使用的回调函数。调用的回调函数会被传入三个参数：第一个参数是返回的数据，第二个是 success 字符串，第三个则是 XMLHttpRequest 对象。</p>
<p>除了上面描述的三个参数，这两个方法还可以接受可选的第 4 个参数，该参数指定被请求数据的类型。<code>load()</code> 使用 html 类型，<code>jQuery.getScript()</code> 使用 script 类型，<code>jQuery.getJSON()</code> 则使用 json 类型。与上面这些专用函数相比，<code>jQuery.get()</code> 和 <code>jQuery.post()</code> 更灵活。该参数的有效值，在下面描述：</p>
<table>
<thead>
<tr>
<th>dataType</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>text</td>
<td>将服务器的响应作为纯文本返回，不做任何处理。</td>
</tr>
<tr>
<td>html</td>
<td>该类型和 text 类型一样，响应是纯文本。</td>
</tr>
<tr>
<td>xml</td>
<td>请求的 URL 被认为指向 XML 格式的数据。</td>
</tr>
<tr>
<td>script</td>
<td>请求的 URL 被认为指向 JavaScript 文件</td>
</tr>
<tr>
<td>json</td>
<td>请求的 URL 被认为指向 JSON 格式的数据文件</td>
</tr>
<tr>
<td>jsonp</td>
<td>请求的 URL 被认为指向服务器脚本，该脚本支持 JSONP 协议，可以将 JSON 格式的数据作为参数传递给客户端指定的函数。</td>
</tr>
</tbody>
</table>
<h3 id="jqueryajax-函数">
  jQuery.ajax() 函数
  <a class="heading-link" href="#jqueryajax-%e5%87%bd%e6%95%b0">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>jQuery 的所有 Ajax 工具最后都会调用 <code>jQuery.ajax()</code> —— 这是整个类库中最复杂的函数。<code>jQuery.ajax()</code> 仅接受一个参数：一个选项对象，该对象的属性指定 Ajax 请求如何执行的很多细节。例如，<code>jQuery.getScript(url, callback)</code> 与下面 <code>jQuery.ajax()</code> 的调用等价：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">jQuery</span>.<span style="color:#a6e22e">ajax</span>({
  <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;GET&#34;</span>, <span style="color:#75715e">// HTTP 请求方法
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">url</span>, <span style="color:#75715e">// 要获取数据的 URL
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>, <span style="color:#75715e">// 不给 URL 添加任何数据
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">dataType</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;script&#34;</span>, <span style="color:#75715e">// 一旦获取到数据，立刻当作脚本执行
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">success</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">callback</span>, <span style="color:#75715e">// 完成时调用该函数
</span><span style="color:#75715e"></span>});
</code></pre></div><p>可以通过 <code>jQuery.ajaxSetup()</code> 传入一个选项对象来设置任意选项的默认值：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">jQuery</span>.<span style="color:#a6e22e">ajaxSetup</span>({
  <span style="color:#a6e22e">timeout</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2000</span>, <span style="color:#75715e">// 在两秒后取消所有 Ajax 请求
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">cache</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>, <span style="color:#75715e">// 通过给 URL 添加时间戳来禁用浏览器缓存
</span><span style="color:#75715e"></span>});
</code></pre></div><p>运行以上代码后，指定的 timeout 和 cache 选项会在所有未指定这两个选项值的 Ajax 请求中使用，包括 <code>jQuery.get()</code> 和 <code>load()</code> 等高级工具。</p>
<h4 id="通用选项">
  通用选项
  <a class="heading-link" href="#%e9%80%9a%e7%94%a8%e9%80%89%e9%a1%b9">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h4>
<p><code>jQuery.ajax()</code> 中最常用的选项如下：</p>
<ul>
<li>
<p>type</p>
<p>指定 HTTP 的请求方法。默认是 GET，另一个常用值是 POST。可以指定其它 HTTP 的请求方法，比如 DELETE 或 PUSH，但不是所有浏览器都支持它们。</p>
</li>
<li>
<p>url</p>
<p>要获取的 URL。对于 GET 请求，data 选项会添加到该 URL 后。</p>
</li>
<li>
<p>data</p>
<p>添加到 URL 中（GET 请求）或在请求体中（POST 请求）发送的数据。</p>
</li>
<li>
<p>dataType</p>
<p>指定响应数据的预期类型，以及 jQuery 处理该数据的方式。</p>
</li>
<li>
<p>contentType</p>
<p>指定请求的 HTTP Content-Type 头。默认值是 application/x-www-form-urlencoded，这是 HTML 表单和绝大部分服务器脚本使用的正常值。</p>
</li>
<li>
<p>timeout</p>
<p>超时时间，单位是毫秒。</p>
</li>
<li>
<p>cache</p>
<p>对于 GET 请求，如果该选项设置为 false，jQuery 会添加一个「_=」参数到 URL 中，或者替换已经存在的同名参数。该参数的值是当前时间（毫秒格式），这可以禁用基于浏览器的缓存。</p>
</li>
<li>
<p>ifModified</p>
<p>当选项值设置为 true 时，jQuery 会为请求的每一个 URL 记录 Last-Modified 和 If-None-Match 响应头的值，并会在接下来的请求中为相同的 URL 设置这些头部信息。这可以使得，如果上次请求后 URL 的内容没有改变，则服务器会发送回 HTTP 304 Not-Modified 响应。</p>
</li>
<li>
<p>global</p>
<p>该选项指定 jQuery 是否应该触发上面描述的 Ajax 请求过程中的事件。默认值是 true，设置该选项为 false 会禁用 Ajax 相关的所有事件。</p>
</li>
</ul>
<h4 id="回调">
  回调
  <a class="heading-link" href="#%e5%9b%9e%e8%b0%83">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h4>
<p>下面的选项指定在 Ajax 请求的不同阶段调用的函数。</p>
<ul>
<li>
<p>context</p>
<p>该选项指定回调函数在调用时的上下文对象 —— 就是 this。该选项没有默认值，如果不设置，this 会指向选项对象。</p>
</li>
<li>
<p>beforeSend</p>
<p>该选项指定 Ajax 请求发送到服务器之前激活的回调函数。第一个参数是 XMLHttpRequest 对象，第二个参数是该请求的选项对象。如果该回调函数返回 false，Ajax 请求会取消。注意跨域的 script 和 jsonp 请求没有使用 XMLHttpRequest 对象，因此不会触发 beforeSend 回调。</p>
</li>
<li>
<p>success</p>
<p>该选项指定 Ajax 请求成功完成时调用的回调函数。第一个参数是服务器发送的数据，第二个参数是 jQuery 状态码，第三个参数是用来发送该请求的 XMLHttpRequest 对象。</p>
</li>
<li>
<p>error</p>
<p>该选项指定 Ajax 请求不成功时调用的回调函数。该回调函数的第一个参数是该请求 XMLHttpRequest 对象，第二个参数是 jQuery 状态码。</p>
</li>
<li>
<p>complete</p>
<p>该选项指定 Ajax 请求完成时激活的回调函数。每一个 Ajax 请求或者成功时调用 success 回调，或者失败时调用 error 回调。在调用 success 或 error 后，jQuery 会调用 complete 回调。第一个参数是 XMLHttpRequest 对象，第二个参数是 jQuery 状态码。</p>
</li>
</ul>
<h4 id="不常用的选项和钩子">
  不常用的选项和钩子
  <a class="heading-link" href="#%e4%b8%8d%e5%b8%b8%e7%94%a8%e7%9a%84%e9%80%89%e9%a1%b9%e5%92%8c%e9%92%a9%e5%ad%90">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h4>
<p>下述的 Ajax 选项不经常使用。</p>
<ul>
<li>
<p>async</p>
<p>脚本化的 HTTP 请求本身就是异步的。然而，XMLHttpRequest 对象提供了一个选项，可用来阻塞当前进程，直到接收到响应。如果想开启这一阻塞行为，可以设置该选项为 false。</p>
</li>
<li>
<p>dataFilter</p>
<p>该选项指定一个函数，用来过滤或预处理服务器返回的数据。第一个参数是从服务器返回的原始数据，第二个参数是 dataType 选项的值。</p>
</li>
<li>
<p>jsonp</p>
<p>跨域问题应由服务端解决，略。</p>
</li>
<li>
<p>jsonpCallback</p>
<p>跨域问题应由服务端解决，略。</p>
</li>
<li>
<p>processData</p>
<p>当设置 data 选项为对象时，jQuery 通常会将该对象转换成字符串，该字符串遵守标准的 application/x-www-form-urlencoded 格式。如果想省略掉该步骤，可以设置该选项为 false。</p>
</li>
<li>
<p>scriptCharset</p>
<p>对于跨域的 script 和 jsonp 请求，会使用 <code>&lt;script&gt;</code> 元素，该选项用来指定 <code>&lt;script&gt;</code> 元素的 charset 属性值。</p>
</li>
<li>
<p>tranditional</p>
<p>jQuery 1.4 改变了数据对象序列化为 application/x-wwww-form-urlencoded 字符串的方式。设置该选项为 true，可以让 jQuery 恢复到原来的方式。</p>
</li>
<li>
<p>username, password</p>
<p>如果请求需要密码验证，可以使用这两个选项来指定用户名和密码。</p>
</li>
<li>
<p>xhr</p>
<p>该选项指定一个工厂函数，用来获取 XMLHttpRequest 对象。</p>
</li>
</ul>
<h3 id="ajax-事件">
  Ajax 事件
  <a class="heading-link" href="#ajax-%e4%ba%8b%e4%bb%b6">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>jQuery 的 Ajax 函数还会在 Ajax 请求的每一个相同阶段触发自定义事件。下面的表格展示了这些回调函数和响应的事件。</p>
<table>
<thead>
<tr>
<th>回调</th>
<th>事件类型</th>
<th>处理程序注册方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>beforeSend</td>
<td>ajaxSend</td>
<td>ajaxSend()</td>
</tr>
<tr>
<td>success</td>
<td>ajaxSuccess</td>
<td>ajaxSuccess()</td>
</tr>
<tr>
<td>error</td>
<td>ajaxError</td>
<td>ajaxError()</td>
</tr>
<tr>
<td>complete</td>
<td>ajaxComplete</td>
<td>ajaxComplete()</td>
</tr>
<tr>
<td>ajaxStart</td>
<td>ajaxStart()</td>
<td></td>
</tr>
<tr>
<td>ajaxStop</td>
<td>ajaxStop()</td>
<td></td>
</tr>
</tbody>
</table>
<p>可以使用 <code>bind()</code> 或上表第二列中的事件类型字符串来注册这些自定义 Ajax 事件，也可以使用第三列中的事件注册方法来注册。</p>
<p>由于 Ajax 事件是自定义事件，是由 jQuery 而不是浏览器产生的，因此传递给事件处理程序的 Event 对象不是很有用。这些事件的处理程序激活时在 event 参数后都带有两个额外的参数。第一个额外参数是 XMLHttpRequest 对象，第二个额外参数是 选项对象。</p>
<hr>
<h2 id="jquery-选择器和选取方法">
  jQuery 选择器和选取方法
  <a class="heading-link" href="#jquery-%e9%80%89%e6%8b%a9%e5%99%a8%e5%92%8c%e9%80%89%e5%8f%96%e6%96%b9%e6%b3%95">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<h3 id="jquery-选择器">
  jQuery 选择器
  <a class="heading-link" href="#jquery-%e9%80%89%e6%8b%a9%e5%99%a8">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>在 CSS 选择器标准草案定义的选择器语法中，jQuery 支持相当完整的一套子集，同时还添加了一些非标准但很有用的伪类。</p>
<p>选择器语法有三层结构。<code>#test</code> 选取 id 属性为 test 的元素，<code>blockquote</code> 选取文档中的所有 blockquote 元素，而 <code>div.note</code> 则选取所有 class 属性为 note 的 div 元素。简单选择器可以组成「组合选择器」，比如 <code>div.note &gt; p</code> 和 <code>blockquote i</code>。</p>
<h4 id="简单选择器">
  简单选择器
  <a class="heading-link" href="#%e7%ae%80%e5%8d%95%e9%80%89%e6%8b%a9%e5%99%a8">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h4>
<table>
<thead>
<tr>
<th>过滤器</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>#id</strong></td>
<td>匹配 id 属性为 <em>id</em> 的元素</td>
</tr>
<tr>
<td><strong>.class</strong></td>
<td>匹配 class 属性</td>
</tr>
<tr>
<td>[attr]</td>
<td>匹配拥有 attr 属性（和值无关）的所有元素</td>
</tr>
<tr>
<td><strong>[attr=val]</strong></td>
<td>匹配拥有 attr 属性，且值为 val 的所有元素</td>
</tr>
<tr>
<td>[attr!=val]</td>
<td>匹配没有 attr 属性，或 attr 属性值不为 val 的所有元素</td>
</tr>
<tr>
<td>[attr^=val]</td>
<td>匹配 attr 属性值以 val 开头的元素</td>
</tr>
<tr>
<td>[attr$=val]</td>
<td>匹配 attr 属性值以 val 结尾的元素</td>
</tr>
<tr>
<td>[attr*=val]</td>
<td>匹配 attr 属性值含有 val 的元素</td>
</tr>
<tr>
<td>[attr~=val]</td>
<td>当其 attr 属性解释为一个由空格分隔的单词列表时，匹配其中包含单词 val 的元素</td>
</tr>
<tr>
<td>[attr|=val]</td>
<td>匹配 attr 属性值以 val 开头且其后没有其它字符，或其它字符是以连字符开头的元素</td>
</tr>
<tr>
<td>:animated</td>
<td>匹配正在动画中的元素，该动画是由 jQuery 产生的</td>
</tr>
<tr>
<td>:button</td>
<td>匹配 <code>&lt;button type=&quot;button&quot;&gt;</code> 和 <code>&lt;input type=&quot;button&quot;&gt;</code> 元素</td>
</tr>
<tr>
<td>:checkbox</td>
<td>匹配 <code>&lt;input type=&quot;checkbox&quot;&gt;</code> 元素</td>
</tr>
<tr>
<td>:checked</td>
<td>匹配选中的 input 元素</td>
</tr>
<tr>
<td>:contains(text)</td>
<td>匹配含有指定 text 文本的元素</td>
</tr>
<tr>
<td><strong>:disabled</strong></td>
<td>匹配禁用的元素</td>
</tr>
<tr>
<td><strong>:empty</strong></td>
<td>匹配没有子节点、没有文本内容的元素</td>
</tr>
<tr>
<td><strong>:enabled</strong></td>
<td>匹配没有禁用的元素</td>
</tr>
<tr>
<td><strong>:eq(n)</strong></td>
<td>匹配基于文档顺序，序号从 0 开始的选中列表中的第 n 个元素</td>
</tr>
<tr>
<td>:even</td>
<td>匹配列表中偶数序号的元素</td>
</tr>
<tr>
<td>:file</td>
<td>匹配 <code>&lt;input type=&quot;file&quot;&gt;</code> 元素</td>
</tr>
<tr>
<td><strong>:first</strong></td>
<td>匹配列表中的第一个元素，和 <code>:eq(0)</code> 相同</td>
</tr>
<tr>
<td>:first-child</td>
<td>匹配的元素是其父节点的第一个子元素</td>
</tr>
<tr>
<td><strong>:gt(n)</strong></td>
<td>匹配基于文档顺序，序号从 0 开始的选中列表中序号大于 n 的元素</td>
</tr>
<tr>
<td>:has(sel)</td>
<td>匹配的元素拥有匹配内嵌选择器 sel 的子孙元素</td>
</tr>
<tr>
<td>:header</td>
<td>匹配所有头元素：<code>&lt;h1&gt;</code>、<code>&lt;h2&gt;</code>、<code>&lt;h3&gt;</code>、<code>&lt;h4&gt;</code>、<code>&lt;h5&gt;</code>、<code>&lt;h6&gt;</code></td>
</tr>
<tr>
<td><strong>:hidden</strong></td>
<td>匹配所有在频幕上不可见的元素</td>
</tr>
<tr>
<td>:imge</td>
<td>匹配 <code>&lt;input type=&quot;image&quot;&gt;</code> 元素</td>
</tr>
<tr>
<td>:input</td>
<td>匹配用户输入元素：<code>&lt;input&gt;</code>、<code>&lt;textarea&gt;</code>、<code>&lt;select&gt;</code>、<code>&lt;button&gt;</code></td>
</tr>
<tr>
<td><strong>:last</strong></td>
<td>匹配选中列表中的最后一个元素</td>
</tr>
<tr>
<td>:last-child</td>
<td>匹配的元素是其父节点的最后一个子元素</td>
</tr>
<tr>
<td><strong>:lt(n)</strong></td>
<td>匹配基于文档顺序，序号从 0 开始的选中列表中序号小于 n 的元素</td>
</tr>
<tr>
<td>:nth(n)</td>
<td>与 <code>:eq(n)</code> 相同</td>
</tr>
<tr>
<td>:nth-child(n)</td>
<td>匹配的父元素是其父节点的第 n 个子元素</td>
</tr>
<tr>
<td>:odd</td>
<td>匹配列表中的奇数</td>
</tr>
<tr>
<td>:only-child</td>
<td>匹配那些是其父节点唯一子节点的元素</td>
</tr>
<tr>
<td><strong>:parent</strong></td>
<td>匹配是父节点的元素，与 <code>:empty</code> 相反</td>
</tr>
<tr>
<td>:password</td>
<td>匹配 <code>&lt;input type=&quot;password&quot;&gt;</code> 元素</td>
</tr>
<tr>
<td>:radio</td>
<td>匹配 <code>&lt;input type=&quot;radio&quot;&gt;</code> 元素</td>
</tr>
<tr>
<td>:reset</td>
<td>匹配 <code>&lt;input type=&quot;reset&quot;&gt;</code> 和 <code>&lt;button type=&quot;reset&quot;&gt;</code> 元素</td>
</tr>
<tr>
<td>:selected</td>
<td>匹配选中的 <code>&lt;option&gt;</code> 元素</td>
</tr>
<tr>
<td>:submit</td>
<td>匹配 <code>&lt;input type=&quot;submit&quot;&gt;</code> 和 <code>&lt;button type=&quot;submit&quot;&gt;</code> 元素</td>
</tr>
<tr>
<td>:text</td>
<td>匹配 <code>&lt;input type=&quot;text&quot;&gt;</code> 元素</td>
</tr>
<tr>
<td><strong>:visible</strong></td>
<td>匹配所有当前可见的元素</td>
</tr>
</tbody>
</table>
<p>通常来说，指定标签类型前缀，可以让过滤器运行得更高效。ID 过滤器是个例外，不添加标签前缀时，它会更高效。</p>
<h4 id="组合选择器">
  组合选择器
  <a class="heading-link" href="#%e7%bb%84%e5%90%88%e9%80%89%e6%8b%a9%e5%99%a8">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h4>
<p>使用特殊操作符或「组合符」可以将简单选择器组合起来，表达文档树中元素之间的关系。</p>
<table>
<thead>
<tr>
<th>组合方式</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>A    B</td>
<td>从匹配选择器 A 的元素的 <strong>子孙元素</strong> 中，选取匹配选择器 B 的文档元素</td>
</tr>
<tr>
<td>A &gt; B</td>
<td>从匹配选择器 A 的元素的 <strong>子元素</strong> 中，选取匹配选择器 B 的文档元素</td>
</tr>
<tr>
<td>A + B</td>
<td>从匹配选择器 A 的元素的 <strong>下一个兄弟元素</strong> 中，选取匹配选择器 B 的文档元素</td>
</tr>
<tr>
<td>A ~ B</td>
<td>从匹配选择器 A 的元素后面的 <strong>兄弟元素</strong> 中，选取匹配选择器 B 的文档元素</td>
</tr>
</tbody>
</table>
<p>下面是组合选择器的一些例子：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#e6db74">&#34;blockquote i&#34;</span>; <span style="color:#75715e">// 匹配 &lt;blockquote&gt; 里的 &lt;i&gt; 元素
</span><span style="color:#75715e"></span><span style="color:#e6db74">&#34;ol &gt; li&#34;</span>; <span style="color:#75715e">// &lt;li&gt; 元素是 &lt;ol&gt; 的直接子元素
</span><span style="color:#75715e"></span><span style="color:#e6db74">&#34;#output + *&#34;</span>; <span style="color:#75715e">// id=&#34;output&#34; 元素后面的兄弟元素
</span><span style="color:#75715e"></span><span style="color:#e6db74">&#34;div.note &gt; h1 + p&#34;</span>; <span style="color:#75715e">// 紧跟 &lt;h1&gt; 的 &lt;p&gt; 元素，在 &lt;div class=&#34;note&#34;&gt; 里面
</span></code></pre></div><h4 id="选择器组">
  选择器组
  <a class="heading-link" href="#%e9%80%89%e6%8b%a9%e5%99%a8%e7%bb%84">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h4>
<p>传递给 <code>$()</code> 函数，或在样式表中使用的选择器，就是选择器组。这是一个逗号分隔的列表，由一个或多个简单选择器或组合选择器构成。</p>
<p>下面是选择器组的一些例子：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#e6db74">&#34;h1, h2, h3&#34;</span>; <span style="color:#75715e">// 匹配 &lt;h1&gt;、&lt;h2&gt; 和 &lt;h3&gt; 元素
</span><span style="color:#75715e"></span><span style="color:#e6db74">&#34;#p1 ,#p2, #p3&#34;</span>; <span style="color:#75715e">// 匹配 id 为 p1、p2 或 p3 的元素
</span><span style="color:#75715e"></span><span style="color:#e6db74">&#34;div.note, p.note&#34;</span>; <span style="color:#75715e">// 匹配 class=&#34;note&#34; 的 &lt;div&gt; 和 &lt;p&gt; 元素
</span><span style="color:#75715e"></span><span style="color:#e6db74">&#34;body &gt; p, div.note &gt; p&#34;</span>; <span style="color:#75715e">// &lt;body&gt; 和 &lt;div class=&#34;note&#34;&gt; 的 &lt;p&gt; 子元素
</span></code></pre></div><h3 id="选取方法">
  选取方法
  <a class="heading-link" href="#%e9%80%89%e5%8f%96%e6%96%b9%e6%b3%95">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>jQuery 还定义了一些选取方法，这些选取方法提供的多数功能与选择器语法的功能是一样的。</p>
<p>提取选中元素最简单的方式是按位置提取。<code>first()</code> 仅返回选中元素中的第一个 jQuery 对象，<code>last()</code> 则返回最后一个 jQuery 对象，<code>eq()</code> 返回指定序号的 jQuery 对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">paras</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;p&#34;</span>);
<span style="color:#a6e22e">paras</span>.<span style="color:#a6e22e">first</span>(); <span style="color:#75715e">// 仅选取第一个 &lt;p&gt; 元素
</span><span style="color:#75715e"></span><span style="color:#a6e22e">paras</span>.<span style="color:#a6e22e">last</span>(); <span style="color:#75715e">// 仅选取最后一个 &lt;p&gt; 元素
</span><span style="color:#75715e"></span><span style="color:#a6e22e">paras</span>.<span style="color:#a6e22e">eq</span>(<span style="color:#ae81ff">1</span>); <span style="color:#75715e">// 选取第二个 &lt;p&gt; 元素
</span><span style="color:#75715e"></span><span style="color:#a6e22e">paras</span>.<span style="color:#a6e22e">eq</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>); <span style="color:#75715e">// 选取倒数第二个 &lt;p&gt; 元素
</span><span style="color:#75715e"></span><span style="color:#a6e22e">paras</span>[<span style="color:#ae81ff">1</span>]; <span style="color:#75715e">// 第二个 &lt;p&gt; 元素自身
</span></code></pre></div><p>通过位置提取元素更通用的方法是 <code>slice()</code>。jQuery 的 <code>slice()</code> 与 <code>Array.slice()</code> 类似：接受开始和结束序号，返回从开始（包含）到结束（不包含）序号的 jQuery 对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;p&#34;</span>).<span style="color:#a6e22e">slice</span>(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">5</span>); <span style="color:#75715e">// 选取第 3、4、5 个 &lt;p&gt; 元素
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;div&#34;</span>).<span style="color:#a6e22e">slice</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>); <span style="color:#75715e">// 选取最后 3 个 &lt;div&gt; 元素
</span></code></pre></div><p><code>filter()</code> 是通用的选区过滤方法，有 3 种调用方式：</p>
<ul>
<li>传递选择器字符串，<code>filter()</code> 会返回匹配该选择器字符串的新 jQuery 对象；</li>
<li>传递另一个 jQuery 对象，<code>filter()</code> 会返回一个包含这两个对象交集的新 jQuery 对象；</li>
<li>传递判断函数，<code>filter()</code> 会为每一个元素调用该判断函数，并返回包含所有函数执行结果为 true 的元素的新 jQuery 对象。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;div&#34;</span>).<span style="color:#a6e22e">filter</span>(<span style="color:#e6db74">&#34;.note&#34;</span>); <span style="color:#75715e">// 与 $(&#39;div.note&#39;) 一样
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;div&#34;</span>).<span style="color:#a6e22e">filter</span>(<span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;.note&#34;</span>)); <span style="color:#75715e">// 与 $(&#39;div.note&#39;) 一样
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;div&#34;</span>).<span style="color:#a6e22e">filter</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">idx</span>) {
  <span style="color:#75715e">// 与 $(&#39;div:even&#39;) 一样
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">idx</span> <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>;
});
</code></pre></div><p><code>not()</code> 与 <code>filter()</code> 一样，除了含义与 <code>filter()</code> 相反。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;div&#34;</span>).<span style="color:#a6e22e">not</span>(<span style="color:#e6db74">&#34;#header, #footer&#34;</span>); <span style="color:#75715e">// 除了两个特殊元素之外的所有 &lt;div&gt; 元素
</span></code></pre></div><p><code>has()</code> 如果传入选择器会返回一个新的 jQuery 对象，仅包含子孙元素中匹配该选择器的元素。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;p&#34;</span>).<span style="color:#a6e22e">has</span>(<span style="color:#e6db74">&#34;a[href]&#34;</span>); <span style="color:#75715e">// 包含链接的段落
</span></code></pre></div><p><code>add()</code> 会扩充选区，而不是对其进行过滤或提取。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;div, p&#34;</span>); <span style="color:#75715e">// 使用选择器组
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;div&#34;</span>).<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#34;p&#34;</span>); <span style="color:#75715e">// 给 add() 传入选择器
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;div&#34;</span>).<span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;p&#34;</span>)); <span style="color:#75715e">// 给 add() 传入 jQuery 对象
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">paras</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementByTagName</span>(<span style="color:#e6db74">&#34;p&#34;</span>); <span style="color:#75715e">// 类数组对象
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;div&#34;</span>).<span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">paras</span>); <span style="color:#75715e">// 给 add() 传入元素数组
</span></code></pre></div><h4 id="将选中元素集用作上下文">
  将选中元素集用作上下文
  <a class="heading-link" href="#%e5%b0%86%e9%80%89%e4%b8%ad%e5%85%83%e7%b4%a0%e9%9b%86%e7%94%a8%e4%bd%9c%e4%b8%8a%e4%b8%8b%e6%96%87">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h4>
<p>jQuery 还定义了一些选取方法，可将当前选中元素作为上下文来使用。这些方法会使用该选中元素作为上下文或起始点，来得到新的选中元素，然后返回一个包含新选中元素并集的 jQuery 对象。</p>
<p><code>find()</code> 会在每一个当前选中元素的子孙元素中，寻找与指定选择器匹配的元素，然后返回一个新的 jQuery 对象来代表所匹配的子孙元素集。<code>find()</code> 和 <code>filter()</code> 不同，<code>filter()</code> 不会选中新元素，只是简单地将当前选中的元素集进行缩减。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;div&#34;</span>).<span style="color:#a6e22e">find</span>(<span style="color:#e6db74">&#34;p&#34;</span>); <span style="color:#75715e">// 在 &lt;div&gt; 中查找 &lt;p&gt; 元素，与 $(&#39;div p&#39;) 相同
</span></code></pre></div><p><code>children()</code> 返回每一个选中元素的直接子元素，支持使用可选的选择器参数进行过滤。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// 寻找 id 为 header 和 footer 元素的子节点元素中的所有 &lt;span&gt; 元素
</span><span style="color:#75715e">// 与 $(&#39;#header&gt;span, #footer&gt;span&#39;) 相同
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#header, #fotter&#34;</span>).<span style="color:#a6e22e">childern</span>(<span style="color:#e6db74">&#34;span&#34;</span>);
</code></pre></div><p><code>contents()</code> 与 <code>children()</code> 类似，不同的是它会返回每一个元素的所有子节点，包括文本及节点。</p>
<p><code>next()</code> 和 <code>prev()</code> 返回每一个选中元素的下一个和上一个兄弟元素，如果传入了选择器字符串，则只会选中匹配该选择器的兄弟元素。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;h1&#34;</span>).<span style="color:#a6e22e">next</span>(<span style="color:#e6db74">&#34;p&#34;</span>); <span style="color:#75715e">// 与 $(&#39;h1+p&#39;) 相同
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;h1&#34;</span>).<span style="color:#a6e22e">prev</span>(); <span style="color:#75715e">// &lt;h1&gt; 元素前面的兄弟元素
</span></code></pre></div><p><code>nextAll()</code> 和 <code>prevAll()</code> 返回每一个选中元素的前面或后面所有兄弟元素。<code>siblings()</code> 则返回每一个选中元素的所有兄弟元素。如果给这些方法传入选择器，则只会返回匹配该选择器的兄弟元素。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#footer&#34;</span>).<span style="color:#a6e22e">nextAll</span>(<span style="color:#e6db74">&#34;p&#34;</span>); <span style="color:#75715e">// 紧跟 #footer 元素的所有 &lt;p&gt; 元素
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#footer&#34;</span>).<span style="color:#a6e22e">prevAll</span>(); <span style="color:#75715e">// #footer 元素前面的所有兄弟元素
</span></code></pre></div><p><code>parent()</code> 返回每一个选中元素的父节点。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;li&#34;</span>).<span style="color:#a6e22e">parent</span>(); <span style="color:#75715e">// 列表元素的父节点，比如 &lt;ul&gt; 和 &lt;ol&gt; 元素
</span></code></pre></div><p><code>parents()</code> 返回每一个选中元素的祖先节点。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;a[href]&#34;</span>).<span style="color:#a6e22e">parents</span>(<span style="color:#e6db74">&#34;p&#34;</span>); <span style="color:#75715e">// 含有链接的 &lt;p&gt; 元素
</span></code></pre></div><h4 id="恢复到之前的选中元素集">
  恢复到之前的选中元素集
  <a class="heading-link" href="#%e6%81%a2%e5%a4%8d%e5%88%b0%e4%b9%8b%e5%89%8d%e7%9a%84%e9%80%89%e4%b8%ad%e5%85%83%e7%b4%a0%e9%9b%86">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h4>
<p>为了实现方法的链式调用，很多 jQuery 对象的方法最后都会返回调用对象。虽然可以链式调用下去，但必须清楚地意识到，在链式调用后面所操作的元素集，可能已经不是该链式调用开始时的元素集了。</p>
<hr>
<h2 id="总结">
  总结
  <a class="heading-link" href="#%e6%80%bb%e7%bb%93">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>即使是现在，面对诸如 Vue.js、Angular.js 等 MVVM 框架的兴起，jQuery 库依然很流行。可见掌握 jQuery 的使用对于一名 Web 开发人员的重要性。</p>
      </div>


      <footer>
        


        
        
        <script src="https://utteranc.es/client.js"
    repo= "fantasticmao/fantasticmao.github.io"
    issue-term="pathname"
    label="comment"
    theme="github-light"
    crossorigin="anonymous"
    async>
  </script>
      </footer>
    </article>

    
  </section>

      </div>

      <footer class="footer">
  <section class="container">
    ©
    
      2016 -
    
    2021
     FantasticMao 
    ·
    技术支持 <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>
    
      · CDN
      <a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target="_blank">
        <img src="/images/upyun_logos/又拍云_logo5.png" style="width: 60px; margin-bottom: -8px"></img>
      </a>
    
    
    
      <p><a href="https://beian.miit.gov.cn/" target="_blank" ref="nofollow">浙ICP备17009730号</a></p>
    
  </section>
</footer>
    </main>

    
      
      <script src="/js/coder.min.03b17769f4f91ae35667e1f2a1ca8c16f50562576cf90ff32b3179926914daa5.js" integrity="sha256-A7F3afT5GuNWZ&#43;HyocqMFvUFYlds&#43;Q/zKzF5kmkU2qU="></script>
    

    

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-89151446-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    

    

    

    

    

    
  </body>

</html>
